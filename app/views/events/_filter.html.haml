%form{ action: '/events', method: 'get' }
  .form-row.medium-width
    .col-auto.form-group
      .input-group
        = text_field_tag(:keyword, params[:keyword], class: 'form-control keyword', placeholder: t('event.keyword'), id: 'keyword')

        %a#info.input-group-append.pointer{'data-trigger' => 'focus', 'data-content' => option_fields, 'data-toggle' => 'popover', 'data-html' => 'true', title: "#{t('event.filter_results_that_contain')}: ", href: '#'}
          .input-group-text
            %i.fas.fa-info

      %small.text-muted= t('event.filter_example')

    = render 'filter_date'

    .col-auto
      %button.btn.btn-light{type: :submit}
        %i.fas.fa-search
        = t('event.search')

    .flex1.btn-download-csv
      %button.btn.btn-outline-info{"data-target" => "#template-model", "data-toggle" => "modal", :type => "button"}
        %i.fas.fa-download
        = t('event.download_csv')

    / Modal
    #template-model.modal.fade{"aria-hidden" => "true", :role => "dialog", :tabindex => "-1"}
      .modal-dialog{:role => "document"}
        .modal-content
          .modal-header
            %h5#template-modelLabel.modal-title= t('event.download_event')
            %button.close{"aria-label" => "Close", "data-dismiss" => "modal", :type => "button"}
              %span{"aria-hidden" => "true"} Ã—
          .modal-body
            %label.hint{'data-hint' => t('event.please_select_template')}= t('event.please_select_template')
            - current_program.templates.each do |template|
              - id = "template_id_#{template.id}"
              .form-check
                %input{id: id , type: 'radio', name: 'template_id', value: template.id}
                %label{for: id}= template.name

          .modal-footer
            %button.btn.btn-secondary{"data-dismiss" => "modal", :type => "button"}= t('shared.cancel')
            = link_to download_events_path, target: :_blank, class: 'btn btn-primary btn-download' do
              %i.fas.fa-download
              = t('event.download_csv')

:javascript
  params = {
    keyword: "#{params[:keyword]}",
    start_date: "#{params[:start_date]}"
  }
