- @events.each do |event|
  %tr
    %td
      .flex-row-vertical-center
        = link_to event.id, event_path(event), class: 'text-primary uuid'
        %span{ 'data-toggle' => 'tooltip', title: "#{t('event.creator')}: #{event.creator_email}" }
          %i.far.fa-user
    %td
      .flex-row-vertical-center
        .small-color{style: "background-color: #{event.event_type_color}"}
          = event.event_type_name[0]
        %span= event.event_type_name

        - if event.event_type_changed?
          %i.fas.fa-long-arrow-alt-right.mr-1

          .small-color{style: "background-color: #{event.conclude_event_type.color}"}
            = event.conclude_event_type_name[0]

          %span= event.conclude_event_type_name

        - if shared_event?(current_user, event)
          %span.ml-2{ 'data-toggle' => 'tooltip', title: "#{t('event.shared_from')}: #{event.program_name}" }
            = image_tag 'share.png', class: 'icon-share'

    %td= event.location_name

    - codes = %w(number_of_case progress risk_level event_date)
    - codes.each do |code|
      %td
        - fv = event.field_values.select{ |fv| fv.field_code == code }.first
        = fv.try(:html_tag).try(:html_safe) || '-'

    - if current_user.system_admin?
      %td= event.program_name

    %td.text-right
      = render "events/index/action_buttons", event: event
