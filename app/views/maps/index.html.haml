#content
  %form.form-inline{ method: :get }
    - if current_user.system_admin?
      .form-group.mb-2
        %label{ for: :event_type } Program:&nbsp;
        = select_tag :program_id, options_from_collection_for_select(@programs, 'id', 'name', params[:program_id]), include_blank: "All"

    .form-group.mb-2
      %label{ for: :event_type } Event Type:&nbsp;
      = select_tag :event_type, options_from_collection_for_select(@event_types, 'id', 'name', @event_type_id), include_blank: "All"

    .form-group.mb-2
      %label{ for: 'reportrange' } Date:&nbsp;
      %input#reportrange{ type: :text, name: 'daterange', value: "#{@start_date.strftime("%m/%d/%Y")} - #{@end_date.strftime('%m/%d/%Y')}" }

    %button.btn.btn-primary.btn-sm.mb-1{ type: 'submit' } Apply
  - if @event_data.present?
    #map
  - else
    .text-center
      %h2 No data found

:javascript
  const eventData = #{ raw @event_data.to_json };
  const startDate = "#{ @start_date.strftime('%m/%d/%Y') }";
  const endDate = "#{ @end_date.strftime('%m/%d/%Y') }";
